<html>

<head>
	<style>
		img {
			display: none;
		}
		#canvas {
			display: block;
			margin-top: 25px;
		}
	</style>
</head>

<body>
	<h1>Animation Tester</h1>
	<p>1. Place image named "image.png" in root directory</p>
	<p>2. Enter the number of frames and framerate (this now updates live!)</p>
	<p>3. Change the canvas colour if you can't see everything: <input type="color" id="canvasColour"></p>
	<input onclick="start()" onkeyup="start()" type="number" id="frameNum" placeholder="Number of frames"></input>
	<input onclick="start()" onkeyup="start()" type="number" id="frameRate" placeholder="Framerate" ></input>

	<canvas id="canvas"></canvas>
	<img src="image.png" id="image">

	<script type="text/javascript">

	let ctx, canvas
	let theAnimation = 0;
	window.onload = function() {
		canvas = document.getElementById("canvas");
		ctx = canvas.getContext("2d");
		document.getElementById("canvasColour").value = "#CCEEEE";
	}

	function start() {
		let theImage = document.getElementById("image");
		let numberOfFrames = document.getElementById("frameNum").value;
		let rateOfFrames = document.getElementById("frameRate").value;

		canvas.width = theImage.width;
		canvas.height = theImage.height / document.getElementById("frameNum").value;
		canvas.style.boxShadow = "1px 1px 5px rgba(0, 0, 0, 0.2)";

		if (theAnimation !== 0) theAnimation.active = false;
		theAnimation = new FrameAnimation(theImage,0,0,0,0,numberOfFrames,rateOfFrames,true);

		setInterval(draw,1000/60);
	}

	</script>

	<script type="text/javascript" src="animate.js"></script>
</body>

</html>